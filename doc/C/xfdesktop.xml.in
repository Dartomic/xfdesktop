<?xml version='1.0'?> 
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" 
          "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" [
  <!ENTITY date "January 2007"> 
  <!ENTITY appversion "@PACKAGE_VERSION@"> 
  <!ENTITY app "<application>@PACKAGE_NAME@</application>"> 
]>

<article id="xfdesktop" lang="en">
  
  <articleinfo>
    <title>Xfce 4 Desktop Manager</title>
    
    <copyright>
      <year>2004-2007</year> <holder>Brian Tarricone</holder>
    </copyright>
    
    <copyright>
      <year>2004</year> <holder>Jasper Huijsmans</holder>
    </copyright>
    
    <copyright>
      <year>2004</year> <holder>François Le Clainche</holder>
    </copyright>
    
<!-- documentation translators: uncomment this and fill in your information.
    <copyright>
      <year>2002</year> <holder>ME-THE-TRANSLATOR (Latin translation)</holder>
    </copyright>
  -->

<!-- I don;t know about this
    <legalnotice id="legalnotice">
      <para>
        This document is provided under the terms of the GNU GPL, version
        2 or (at your option) any later version.
      </para>
    </legalnotice>
  -->
    
    <authorgroup>
      <author>
        <firstname>Brian</firstname> <surname>Tarricone</surname>
        <affiliation>
          <address><email>kelnos@xfce.org</email></address>
        </affiliation>
      </author>
      <author>
        <firstname>Jasper</firstname> <surname>Huijsmans</surname>
        <affiliation>
          <address><email>jasper@xfce.org</email></address>
        </affiliation>
      </author>
      
      <author>
        <firstname>François</firstname> <surname>Le Clainche</surname>
        <affiliation>
          <address><email>fleclainche@wanadoo.fr</email></address>
        </affiliation>
      </author>        
    </authorgroup>
    
    <releaseinfo>
      This manual describes &app; version &appversion;.
    </releaseinfo>
  </articleinfo>
  
  <sect1 id="xfdesktop-intro">
    <title>Introduction</title>
    
    <para>
      The &app; application manages the desktop backdrop. It sets a
      backdrop image and/or color and it can pop up an applications
      menu and a list of all running applications when you click on the desktop
      with the right or middle mouse button respectively.  As of Xfce 4.4,
      &app; also draws icons on the desktop.
    </para>
    
    <para>
      The &app; package installs a settings dialog for use with 
      the <emphasis>Xfce 4 Settings Manager</emphasis>. From this dialog you 
      can change the backdrop image and color and change settings for the menu
      and the window list.
    </para>
  </sect1>
  
  <sect1 id="xfdesktop-backdrop">
    <title>Backdrop</title>
    
    <para>
      &app; is responsible for drawing the desktop's backdrop (sometimes called
      "wallpaper") image.  There are various options for setting a backdrop
      image.  The final picture seen on the monitor is composed of a solid
      color or gradient, with an image or photo (with optional transparency)
      composited on top of the color or gradient.  This allows for some
      interesting effects using semi-transparent images on top of various
      color arrangements.
    </para>
  </sect1>
  
  <sect1 id="xfdesktop-icons">
    <title>Icons</title>
    
    <para>
      In addition to drawing the backdrop image, &app; can draw icons on the
      desktop.
    </para>
    
    <sect2 id="xfdesktop-window-icons">
      <title>Minimized Window Icons</title>
      
      <para>
        One mode of operation displays minimized applications as icons on the
        desktop, which can be rearranged, and will remember their positions
        when the window is unhidden and then later minimized again.  The icons
        also provide a right-click menu similar to the window's control menu
        accessed by clicking the button in the top-left corner of the window.
      </para>
    </sect2>
    
    <sect2 id="xfdesktop-file-icons">
      <title>File/Launcher Icons</title>
      
      <para>
        &app; can also display the contents of the
        <filename>~/Desktop/</filename> on the desktop, similar to the icon
        views found in many other desktop environments and operating systems.
        Files can be arranged, copied, moved, and linked to and from a file
        manager, and opened using preferred applications.  Application and URL
        launchers can also be created on the desktop.  The file icon view is
        modeled to have a similar look and feel as the
        <ulink url="http://thunar.xfce.org/" type="http">Thunar</ulink> file
        manager.
      </para>
    </sect2>
  </sect1>

  <sect1 id="xfdesktop-menu">
    <title>The Applications Menu</title>
    
    <para>
      A right-click on the desktop backdrop opens a menu that allows you to
      start many of the applications found on your system.
    </para>
    
    <figure id="root-menu-fig">
      <title>Applications Menu</title>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/root_menu.png" format="PNG"/>
          </imageobject> 
          <textobject>
            <phrase>Shows &app; right-click mouse menu.</phrase>
          </textobject>
        </mediaobject>
      </screenshot>
    </figure>
    
    <para>
      The menu's configuration file,
      <filename>menu.xml</filename>, can be found under the path
      <filename>$sysconfdir/xdg/xfce4/menu.xml</filename>.  For binary
      packages, <filename>$sysconfdir</filename> is often
      <filename>/etc</filename> and for source compiles, it defaults to
      <filename>/usr/local/etc</filename>.
    </para>
    
    <para>
      While it is possible to edit the file manually, the recommended
      method for editing the <filename>menu.xml</filename> file is via
      the Xfce Menu Editor, which can be started by running
      <application>xfce4-menueditor</application>, or using the "Edit
      desktop menu" button available from the Behavior tab ofthe Desktop 
      Settings dialog. The menu editor also supports drag'n'drop from a file 
      manager.
    </para>
    
    <para>
      If you've edited the menu via <application>xfce4-menueditor</application>,
      the user-customized menu file will be saved to
      <filename>$XDG_CONFIG_HOME/xfce4/desktop/menu.xml</filename>.
      <filename>$XDG_CONFIG_HOME</filename> usually defaults to
      <filename>~/.config</filename>.  If editing the file manually, copying
      it to this location first is the preferred method.
    </para>
    
    <para>
      NB: If you choose to edit the file manually,
      <filename>menu.xml</filename> must to be in UTF-8 encoding for the
      toolkit to be able to display accented or other non-ASCII characters.
      Therefore, you need an editor that supports UTF-8, like
      <application>mousepad</application> or <application>gedit</application>.
    </para>
  </sect1>
  
  <sect1 id="xfdesktop-window-list">
    <title>The Window List Menu</title>
    
    <para>
      A middle-click on the desktop backdrop shows a list of all opened 
      windows ordered by workspace. It also allows you to add or remove 
      a workspace.
    </para>

    <figure id="root-menu2-fig">
      <title>Window List Menu</title> 
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/root_menu2.png" format="PNG"/>
          </imageobject> 
          <textobject>
            <phrase>Shows &app; middle-click mouse menu.</phrase>
          </textobject>
        </mediaobject>
      </screenshot>
    </figure>
  </sect1>
  
  <sect1 id="xfdesktop-settings">
    <title>Desktop Settings</title>
    
    <para>
      You can start the Desktop settings dialog by clicking on the
      "Desktop" button in the 
      <ulink url="xfce-mcs-manager.html#manager-dialog" 
             type="http">Xfce Settings Manager</ulink>.
    </para>
    
    <sect2 id="xfdesktop-settings-appearance">
      <title>Appearance Tab</title>
      
      <para>
        The Appearance tab allows you to set various options related to
        drawing the desktop backdrop picture.
      </para>
      
      <figure id="xfdesktop-appearance-fig">
        <title>Desktop Settings, Appearance Tab</title> 
        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/xfdesktop-appearance-tab.png"
                         format="PNG"/>
            </imageobject> 
            <textobject>
              <phrase>
                Shows the Appearance tab of the Backdrop Settings dialog
              </phrase>
            </textobject>
          </mediaobject>
        </screenshot>
      </figure>
      
      <variablelist>
        <varlistentry>
          <term>Color Style</term>
          <listitem>
            <para>
              The color style is one of three options: a solid color,
              horizontal gradient, or vertical gradient.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>First Color and Second Color</term>
          <listitem>
            <para>
              When the solid color option is selected, only the first color
              is available.  When either of the gradient options are selected,
              both the first and second colors are available.  Both of the
              color buttons open a color chooser dialog:
            </para>
            
            <figure id="select_bg_color-fig">
              <title>Select Backdrop Color</title>
              <screenshot>
                <mediaobject>
                  <imageobject>
                    <imagedata fileref="images/select_bg_color.png"
                               format="PNG"/>
                    </imageobject>
                  <textobject>
                    <phrase>Shows the color selection dialog</phrase>
                  </textobject>
                </mediaobject>
              </screenshot>
            </figure>
            
            <itemizedlist>
              <listitem>
                You can use the colored ring with a triangle inside to
                select the color you want from the outer ring, then select the
                darkness or lightness of that color using the inner triangle.
                Corresponding values of brightness, deepness, and amount of red,
                green and blue light in the color appear through the entries on
                the right side of the window.
              </listitem>
              <listitem>
                You can click the eyedropper, then click anywhere on your
                screen to select the color.
              </listitem>
              <listitem>
                You can enter an HTML-style hexadecimal color value, or
                simply a color name, in the "Color Name" entry.
              </listitem>
            </itemizedlist>
            
            <para>
              The selected colors will fill the entire root window, and will 
              remain visible through a transparent backdrop image.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>Image</term>
          
          <listitem>
            <para>
              Unselect the "Show Image" option if you want &app; to ignore 
              the backdrop image and only use the previously selected colors.
            </para>
            
            <para>
              The "File" entry shows the path to the currently selected
              backdrop image. If you want to change it, just drop and image 
              on the path field, or edit the path, or click the browse button, 
              and a classic file-browsing dialog will appear.
            </para>
            
            <para>
              You can create a list of backdrop images that will be randomly
              used at startup. Click the "New list" button to open the list 
              editing dialog:
            </para>
            
            <figure id="xfdesktop-list-fig">
              <title>Backdrop List Editor</title> 
              <screenshot>
                <mediaobject>
                  <imageobject>
                    <imagedata fileref="images/xfdesktop-list.png"
                               format="PNG"/>
                  </imageobject>
                  <textobject>
                    <phrase>Shows backdrop list manager</phrase>
                  </textobject>
                </mediaobject>
              </screenshot>
            </figure>
            
            <para>
              You may want to change the default path and name of your
              custom list of backdrops in the "List file" entry.
            </para>
            
            <para>
              You can easily add an image file by clicking the "plus" button.
              That action will open a file-browsing window. You can remove a
              file, if you select it in the list and click the "minus" button.
              When your list is complete, click the "Save" button to save it.
              If you want to modify its content later, use the "Edit list"
              button in the Desktop Settings dialog.
            </para>
            
            <para>
              You can recover an older list by dropping its name.list file on 
              the backdrop settings dialog from a file manager.
            </para>
            
            <para>
              To refresh the backdrop with a new random image from the list
              just run the &app; command again, e.g. from a terminal or the run 
              dialog, or &app; <arg>--reload</arg>.
            </para>
            
            <para>
              Four Style options (Tiled, Scaled, Centered and Stretched) are
              available to specify the fitting of the backdrop image on the 
              screen, depending on its size. You can also select the "Auto"
              item if you want to let &app; take care of this setting.
            </para>
            
            <para>
              The slider at the bottom of the dialog allows you to adjust the 
              brightness of the backdrop image and/or color.
            </para>
            
            <para>
              xfdesktop supports xinerama and multiscreen modes. In 
              multiscreen mode, the Appearance tab shows one tab per screen.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect2>
    
    <sect2 id="xfdesktop-settings-behavior">
      <title>Behavior Tab</title>
      
      <figure id="xfdesktop-behavior-tab-fig">
        <title>Desktop Settings, Appearance Tab</title> 
        
        <screenshot>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/xfdesktop-behavior-tab.png"
                         format="PNG"/>
            </imageobject>
            <textobject>
              <phrase>
                Shows the Behavior tab of the Desktop Settings dialog
              </phrase>
            </textobject>
          </mediaobject>
        </screenshot>
      </figure>
      
      <para>
        The first two options allow you to enable or disable the Window List
        Menu and the Applications Menu.  There is also a button that launches
        the Xfce Menu Editor, which is used to edit the Applications Menu.
      </para>
      
      <para>
        The behavior of the desktop icons can be set here as well.  There are
        three options: None, to disable desktop icons entirely; Minimized
        application icons, to show icons for minimized/hidden applications on
        the desktop; and File/launcher icons, to show the contents of your
        <filename>~/Desktop</filename> directory on the desktop.
      </para>
      
      <para>
        If desktop icons are enabled, you can control the size of the icon
        itself (in pixels), and the font size used to display the icon text
        (in points).  Selecting the "Use system font size" checkbox will tell
        &app; to use the font size selected in the User Interface Settings
        dialog.
      </para>
    </sect2>
  </sect1>
  
  <sect1 id="xfdesktop-menu-editor">
    <title>Xfce Menu Editor</title>
    
    <para>
      The recommended way to edit the Applications Menu is via the Xfce Menu
      Editor.
    </para>
    
    <figure id="xfdesktop-editor-fig">
      <title>Xfce Menu Editor</title>
      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/xfdesktop-editor.png" format="PNG"/>
          </imageobject> 
          <textobject>
            <phrase>Shows the menu editor.</phrase>
          </textobject>
        </mediaobject>
      </screenshot>
    </figure>
    
    <para>
      The Xfce Menu Editor shows the menu as a tree of items.  Existing items
      can be edited by selecting the item and using the toolbar buttons or
      context menu.  Items can be moved around by dragging them with the mouse.
      New items can be used with the Add button or menu item.
    </para>
    
    <para>
      There are five kinds of menu items:
      
      <variablelist>
        <varlistentry>
          <term>Title</term>
          <listitem>
            <para>
              A Title item has no function; it just serves as a way to insert
              text and/or an icon into the menu.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>Submenu</term>
          <listitem>
            <para>
              A submenu item allows you to attach a submenu to the menu.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>Launcher</term>
          <listitem>
            <para>
              Launchers run an application when clicked.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>Separator</term>
          <listitem>
            <para>
              A separator item draws a line across the menu.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>Quit</term>
          <listitem>
            <para>
              The Quit menu item brings up a dialog that allows you to log
              out, or shutdown or reboot your computer.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </para>
    
    <para>
      If the application supports Startup Notification, you may check the
      box, and the mouse cursor will turn into an hourglass while the
      application is loading.  If you are not sure if the application
      supports Startup Notification, leave the box unchecked.
    </para>
    
    <para>
      If the application is a console application and requires a terminal
      to run, check the "Run in teriminal" box.
    </para>
    
    <para>
      In addition to menu items, there are two types of "speical" items
      that can be added to the menu via the "Add external" option in the
      Edit menu.  The system menu searches for
      <filename>.desktop</filename> files in some predetermined locations
      on your hard disk and creates a menu tree of the applications found.
      The "file" external allows you to store other menus in other menu
      files and merge them together with the current menu.
    </para>
  </sect1>
  
  <sect1 id="xfdesktop-hidden-options">
    <title>Hidden Options</title>
    
    <para>
      There are a number of hidden options that cannot be set by the Xfce
      Settings Manager.  These require use of a text editor.
    </para>
    
    <variablelist>
      <varlistentry>
        <term>Icon View Text Appearance</term>
        <listitem>
          <para>
            The colors of the icon text and the icon text background, as well
            as the opacity of the icon text background, can be customized
            by putting directives simiar to the following in your
            <filename>~/.gtkrc-2.0</filename> file:
          </para>
          
          <programlisting>
<![CDATA[style "xfdesktop-icon-view" {
    XfdesktopIconView::label-alpha = 75

    base[NORMAL] = "#00ff00"
    base[SELECTED] = "#5050ff"
    base[ACTIVE] = "#0000ff"

    fg[NORMAL] = "#ff0000"
    fg[SELECTED] = "#ff0000"
    fg[ACTIVE] = "#ff0000"
}
widget_class "*XfdesktopIconView*" style "xfdesktop-icon-view"]]>
          </programlisting>
          
          <para>
            The first entry sets the opacity of the rounded text background.
            The three "base" entries set the text background color, and the
            three "fg" entries set the text color.
          </para>
          
          <para>
            The "NORMAL" entries set the color for the regular, unselected
            state.  The "SELECTED" entries set the color for when the icon
            is selected, and the desktop has keyboard focus.  The "ACTIVE"
            entries set the color for when the icon is selected, but the
            desktop does not have keyboard focus.
          </para>
        </listitem>
      </varlistentry>
      
      <varlistentry>
        <term>Extra File Icons</term>
        <listitem>
          <para>
            In addition to file and launcher icons, &app; can also display
            icons for removable volumes plugged into your computer.  It
            can also display an icon for your filesystem root, home directory,
            and trash can.  By default, these are all enabled, but can be
            disabled via hidden options.  Create or edit the file
            <filename>$XDG_CONFIG_HOME/xfce4/desktop/xfdesktoprc</filename>
            and add something similar to the following:
          </para>
          
          <programlisting>
<![CDATA[[file-icons]
show-filesystem=true
show-home=true
show-trash=true
show-removable=true]]>
          </programlisting>
          
          <para>
            To disable that particular feature, change the "true" to "false"
            and save the file.  If an entry is omitted, it defaults to "true".
            Restart &app; for the changes to take effect.
          </para>
        </listitem>
      </varlistentry>
      
      <varlistentry>
        <term>Icons In the Applications and Window List Menus</term>
        <listitem>
          <para>
            If you wish that icons are not shown in the Applications Menu
            and the Window List Menu, add the following to your
            <filename>~/.gtkrc-2.0</filename>:
          </para>
          
          <programlisting>
<![CDATA[style "menu-images" {
    gtk-menu-images = false
}
widget_class "*" style "menu-images"]]>
          </programlisting>
          
          <para>
            Unfortunately, this will act on all Gtk menus, not just on the
            Applications and Window List menus.  There is currently no way
            to set this property for just these two menus.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect1>

  <sect1 id="xfdesktop-misc">
    <title>Miscellaneous</title>
    
    <para>
      You can open the menu or window list from the commandline as well.
      This can be useful for keyboard shortcuts. To open the menu run the
      command &app; <application>--menu</application>, and for the windowlist 
      use &app; <application>--windowlist</application>.  To cause the
      current running instance to quit, run &app;
      <application>--quit</application>.
    </para>
  </sect1>
  
  <sect1 id="xfdesktop-copyright">
    <title>About &app;</title>
    
    <para>
      &app; was written by
      Brian Tarricone (<email>kelnos@xfce.org</email>),
      Jasper Huijsmans (<email>jasper@xfce.org</email>), and 
      Benedikt Meurer (<email>benny@xfce.org</email>).
      For more information, please visit the 
      <ulink url="http://www.xfce.org" type="http">Xfce website</ulink>. 
    </para>

    <para>
      To report a bug or make a suggestion regarding this application or
      this manual, use the bug tracking system at
      <ulink url="http://bugzilla.xfce.org/" 
             type="http">http://bugzilla.xfce.org/</ulink>. 
    </para>
    
    <para>
      If you have questions about the use or installation of this package,
      please ask on the
      <ulink url="http://foo-projects.org/mailman/listinfo/xfce"
             type="http">xfce</ulink> mailing list. Development
      discussion takes place on the
      <ulink url="http://foo-projects.org/mailman/listinfo/xfce4-dev"
             type="http">xfce4-dev</ulink> mailing list.
    </para>
    
    <para>
      This program is distributed under the terms of the
      GNU General Public License as published by the Free Software Foundation; 
      either version 2 of the License, or (at your option) any later version.
    </para>
    
    <para>
      You should have received a copy of the GNU General Public License 
      along with this program; if not, write to the Free Software 
      Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, 
      USA.
    </para>
  </sect1>
  
</article>
